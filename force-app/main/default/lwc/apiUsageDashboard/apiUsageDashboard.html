<template>
  <lightning-card title="API Usage & Forecasting">
    <div class="slds-var-p-around_medium">
      <template lwc:if={isLoading}>
        <div class="slds-align_absolute-center slds-var-p-around_medium">
          <lightning-spinner alternative-text="Loading API usage data" size="medium"></lightning-spinner>
        </div>
      </template>
      <template lwc:else>
        <template lwc:if={hasRows}>
          <lightning-datatable key-field="id" data={rows} columns={columns} aria-label="API usage snapshots"></lightning-datatable>
        </template>
        <template lwc:else>
          <p>No snapshots yet.</p>
        </template>
      </template>
    </div>
  </lightning-card>
</template>
