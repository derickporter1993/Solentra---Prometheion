<template>
  <lightning-card title="Governor Limits">
    <div class="slds-p-around_medium">
      <template if:true="{stats}">
        <div class="slds-grid slds-wrap slds-gutters">
          <div class="slds-col slds-size_1-of-2">
            <lightning-progress-ring
              value="{cpuPct}"
              variant="active"
              label="CPU (ms)"
            ></lightning-progress-ring>
            <p class="slds-m-top_small">CPU: {stats.cpuMs} ms</p>
          </div>
          <div class="slds-col slds-size_1-of-2">
            <lightning-progress-ring
              value="{heapPct}"
              variant="warning"
              label="Heap (KB)"
            ></lightning-progress-ring>
            <p class="slds-m-top_small">Heap: {stats.heapKb} KB</p>
          </div>
        </div>
        <p class="slds-m-top_medium">SOQL: {stats.soql} / 100 • DML: {stats.dml} / 150</p>
      </template>
      <template if:false="{stats}"><p>Loading…</p></template>
      <div class="slds-m-top_medium">
        <lightning-button label="Refresh" onclick="{refresh}"></lightning-button>
      </div>
    </div>
  </lightning-card>
</template>
